{"version":3,"sources":["components/Person.js","services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Person","person","deletePerson","class","name","number","onClick","baseUrl","axios","get","newObject","post","id","delete","put","Persons","persons","setPersons","filter","setMessage","personsFiltered","toUpperCase","startsWith","map","key","window","confirm","personsService","then","response","p","setTimeout","PersonForm","setErrorMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","some","find","data","catch","error","console","log","concat","value","onChange","target","type","Filter","setFilter","Notification","message","role","App","errorMessage","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dc8d4711.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, deletePerson}) => {\n  return (\n    <li class=\"mb-1 mx-3 list-group-item\">\n      {person.name} {person.number}\n      <button class=\"btn btn-outline-primary ml-3\" onClick={deletePerson}>delete</button>\n    </li>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst del = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, del, update}","import React from 'react'\nimport Person from './Person'\nimport personsService from '../services/persons'\n\nconst Persons = ({persons, setPersons, filter, setMessage}) => {\n  const personsFiltered = persons.filter(person => person.name.toUpperCase().startsWith(filter.toUpperCase()))\n\n  const deletePerson = (name,id) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personsService\n        .del(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage(`Deleted ${name}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <ul class=\"list-group\">\n    {personsFiltered.map(person =>\n      <Person key={person.name} person={person} deletePerson={() => deletePerson(person.name, person.id)}/>\n    )}\n    </ul>\n  )\n}\n\nexport default Persons","import React, { useState } from 'react'\nimport personsService from '../services/persons'\n\nconst PersonForm = ({persons, setPersons, setMessage, setErrorMessage}) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n\n  const addContact = (event) => {\n    event.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some(person => person.name === newName)) {\n      const res = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\n      if (res) {\n        const id = persons.find(person => person.name === newName).id\n        personsService\n          .update(id,person)\n          .then(response  => {\n            setPersons(persons.map(person => person.id !== id ? person : response.data ))\n\n            setMessage(`Updated ${newName}'s number`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error)\n            if (error.response.data.error.startsWith(\"Validation failed\")) {\n              setErrorMessage(error.response.data.error)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            }\n            else {\n              setErrorMessage(\n                `Information of ${newName} has already been removed from server`\n              )\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n              setPersons(persons.filter(p => p.name !== newName))\n            }\n          })\n      }\n      return\n    }\n\n    personsService\n      .create(person)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')\n        setMessage(`Added ${person.name}`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        console.log(error.response.data.error)\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n  const handleNameChange = (event => setNewName(event.target.value))\n\n  const handleNumberChange = (event => setNewNumber(event.target.value))\n\n  return (\n    <form onSubmit={addContact}>\n        <div class=\"mb-2 mx-3\">\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div class=\"mb-2 mx-3\">\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button class=\"btn btn-primary ml-3 mt-1\" type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({filter, setFilter}) => {\n  const handleFilter = (event => setFilter(event.target.value))\n\n  return (\n    <div>\n      Filter names by <input value={filter} onChange={handleFilter}/>\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div class={error ? 'alert alert-danger' : 'alert alert-success'} role=\"alert\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport './index.css'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personsService\n    .getAll()\n    .then(response => {\n      setPersons(response.data)\n    })\n  },[])\n\n  return (\n    <div>\n      <h1 class=\"mx-3 mb-3\">Phonebook</h1>\n      <Notification message={message} error={false}/>\n      <Notification message={errorMessage} error={true}/>\n\n      <div class=\"mt-3 mb-3 mx-3\">\n        <Filter filter={filter} setFilter={setFilter}/>\n      </div>\n\n      <h3 class=\"mx-3\">Add new contact</h3>\n\n      <PersonForm persons={persons} setPersons={setPersons} setMessage={setMessage} setErrorMessage={setErrorMessage}/>\n      <h3 class=\"mb-3 mt-3 mx-3\">Numbers</h3>\n      <Persons persons={persons} setPersons={setPersons} filter={filter} setMessage={setMessage}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}